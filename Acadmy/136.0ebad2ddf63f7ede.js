"use strict";(self.webpackChunkAcadmy=self.webpackChunkAcadmy||[]).push([[136],{7136:(W,v,m)=>{m.r(v),m.d(v,{CollegeModule:()=>Z});var _=m(177),p=m(430),o=m(4341),e=m(4438),C=m(99),h=m(1750);function f(t,r){1&t&&(e.j41(0,"div",9),e.EFF(1," College name is required "),e.k0s())}function F(t,r){if(1&t&&(e.j41(0,"option",13),e.EFF(1),e.k0s()),2&t){const n=r.$implicit;e.Y8G("value",n.id),e.R7$(),e.JRh(n.name)}}function b(t,r){1&t&&(e.j41(0,"div",9),e.EFF(1," University is required "),e.k0s())}function k(t,r){1&t&&(e.j41(0,"div",9),e.EFF(1," Grade Level Count is required "),e.k0s())}function y(t,r){1&t&&(e.nrm(0,"span",20),e.EFF(1," Creating... "))}function E(t,r){1&t&&e.EFF(0," Create College ")}function j(t,r){1&t&&(e.j41(0,"div",19)(1,"div",21),e.EFF(2,"Processing..."),e.k0s()())}let L=(()=>{class t{constructor(n,i,l,s){this.fb=n,this.collegeService=i,this.universityService=l,this.router=s,this.loading=!1,this.universities=[],this.collegeForm=this.fb.group({name:["",o.k0.required],universityId:["",o.k0.required],gradeLevelCount:[0,[o.k0.required,o.k0.min(1)]]})}ngOnInit(){this.loadUniversities()}loadUniversities(){this.universityService.getUniversitysList().subscribe({next:n=>{this.universities=n.items},error:n=>{console.error("Error loading universities",n)}})}submit(){if(this.collegeForm.invalid)return;const n=this.collegeForm.value;this.loading=!0,this.collegeService.create(n).subscribe({next:()=>{this.loading=!1,this.router.navigate(["/colleges"])},error:i=>{this.loading=!1,alert("Error: "+i.message)}})}static{this.\u0275fac=function(i){return new(i||t)(e.rXU(o.ok),e.rXU(C.Z),e.rXU(h.W),e.rXU(p.Ix))}}static{this.\u0275cmp=e.VBU({type:t,selectors:[["app-create-college"]],decls:39,vars:14,consts:[[1,"create-container"],[1,"header"],["type","button","routerLink","/colleges",1,"btn","btn-secondary"],[1,"college-form",3,"ngSubmit","formGroup"],[1,"form-section"],[1,"form-row"],[1,"form-group"],["for","name"],["id","name","type","text","formControlName","name","placeholder","Enter college name",1,"form-control"],[1,"error-message"],["for","universityId"],["id","universityId","formControlName","universityId",1,"form-control"],["value",""],[3,"value"],["for","gradeLevelCount"],["id","gradeLevelCount","type","number","formControlName","gradeLevelCount","placeholder","Enter grade level count",1,"form-control"],[1,"form-actions"],["type","button","routerLink","/colleges",1,"btn","btn-secondary",3,"disabled"],["type","submit",1,"btn","btn-primary",3,"disabled"],[1,"loading-overlay"],[1,"spinner"],[1,"loading-spinner"]],template:function(i,l){if(1&i&&(e.j41(0,"div",0)(1,"div",1)(2,"h2"),e.EFF(3,"Create New College"),e.k0s(),e.j41(4,"button",2),e.EFF(5,"Back to List"),e.k0s()(),e.j41(6,"form",3),e.bIt("ngSubmit",function(){return l.submit()}),e.j41(7,"div",4)(8,"h3"),e.EFF(9,"Basic Information"),e.k0s(),e.j41(10,"div",5)(11,"div",6)(12,"label",7),e.EFF(13,"College Name *"),e.k0s(),e.nrm(14,"input",8),e.DNE(15,f,2,0,"div",9),e.k0s()(),e.j41(16,"div",5)(17,"div",6)(18,"label",10),e.EFF(19,"University *"),e.k0s(),e.j41(20,"select",11)(21,"option",12),e.EFF(22,"-- Select University --"),e.k0s(),e.Z7z(23,F,2,2,"option",13,e.Vm6),e.k0s(),e.DNE(25,b,2,0,"div",9),e.k0s()(),e.j41(26,"div",5)(27,"div",6)(28,"label",14),e.EFF(29,"Grade Level Count *"),e.k0s(),e.nrm(30,"input",15),e.DNE(31,k,2,0,"div",9),e.k0s()()(),e.j41(32,"div",16)(33,"button",17),e.EFF(34," Cancel "),e.k0s(),e.j41(35,"button",18),e.DNE(36,y,2,0)(37,E,1,0),e.k0s()()(),e.DNE(38,j,3,0,"div",19),e.k0s()),2&i){let s,a,d,c,u,g;e.R7$(6),e.Y8G("formGroup",l.collegeForm),e.R7$(8),e.AVh("is-invalid",(null==(s=l.collegeForm.get("name"))?null:s.invalid)&&(null==(s=l.collegeForm.get("name"))?null:s.touched)),e.R7$(),e.vxM(null!=(a=l.collegeForm.get("name"))&&a.invalid&&null!=(a=l.collegeForm.get("name"))&&a.touched?15:-1),e.R7$(5),e.AVh("is-invalid",(null==(d=l.collegeForm.get("universityId"))?null:d.invalid)&&(null==(d=l.collegeForm.get("universityId"))?null:d.touched)),e.R7$(3),e.Dyx(l.universities),e.R7$(2),e.vxM(null!=(c=l.collegeForm.get("universityId"))&&c.invalid&&null!=(c=l.collegeForm.get("universityId"))&&c.touched?25:-1),e.R7$(5),e.AVh("is-invalid",(null==(u=l.collegeForm.get("gradeLevelCount"))?null:u.invalid)&&(null==(u=l.collegeForm.get("gradeLevelCount"))?null:u.touched)),e.R7$(),e.vxM(null!=(g=l.collegeForm.get("gradeLevelCount"))&&g.invalid&&null!=(g=l.collegeForm.get("gradeLevelCount"))&&g.touched?31:-1),e.R7$(2),e.Y8G("disabled",l.loading),e.R7$(2),e.Y8G("disabled",l.collegeForm.invalid||l.loading),e.R7$(),e.vxM(l.loading?36:37),e.R7$(2),e.vxM(l.loading?38:-1)}},dependencies:[o.X1,o.qT,o.xH,o.y7,o.me,o.Q0,o.wz,o.BC,o.cb,o.j4,o.JD,p.Wk],encapsulation:2})}}return t})();const I=t=>["/colleges/view",t],R=t=>["/colleges/update",t],$=(t,r)=>r.id;function T(t,r){if(1&t){const n=e.RV6();e.j41(0,"div",1)(1,"p"),e.EFF(2,"Are you sure you want to delete "),e.j41(3,"strong"),e.EFF(4),e.k0s(),e.EFF(5,"?"),e.k0s(),e.j41(6,"div",9)(7,"button",10),e.bIt("click",function(){e.eBV(n);const l=e.XpG();return e.Njj(l.cancelDelete())}),e.EFF(8,"No"),e.k0s(),e.j41(9,"button",11),e.bIt("click",function(){e.eBV(n);const l=e.XpG();return e.Njj(l.deleteCollege())}),e.EFF(10,"Yes"),e.k0s()()()}if(2&t){const n=e.XpG();e.R7$(4),e.JRh(n.collegeToDelete.name)}}function U(t,r){1&t&&(e.j41(0,"div",8)(1,"p",12),e.EFF(2,"Loading..."),e.k0s()())}function D(t,r){if(1&t){const n=e.RV6();e.j41(0,"tr")(1,"td"),e.EFF(2),e.k0s(),e.j41(3,"td"),e.EFF(4),e.k0s(),e.j41(5,"td",16)(6,"button",17),e.nrm(7,"i",18),e.k0s(),e.j41(8,"button",19),e.nrm(9,"i",20),e.k0s(),e.j41(10,"button",21),e.bIt("click",function(){const l=e.eBV(n).$implicit,s=e.XpG(3);return e.Njj(s.confirmDelete(l))}),e.nrm(11,"i",22),e.k0s()()()}if(2&t){const n=r.$implicit,i=r.$index,l=e.XpG(3);e.R7$(2),e.JRh((l.pageIndex-1)*l.pageSize+i+1),e.R7$(2),e.JRh(n.name),e.R7$(2),e.Y8G("routerLink",e.eq3(4,I,n.id)),e.R7$(2),e.Y8G("routerLink",e.eq3(6,R,n.id))}}function N(t,r){if(1&t){const n=e.RV6();e.j41(0,"div",15)(1,"button",23),e.bIt("click",function(){e.eBV(n);const l=e.XpG(3);return e.Njj(l.onPageChange(l.pageIndex-1))}),e.EFF(2," Previous "),e.k0s(),e.j41(3,"button",24),e.bIt("click",function(){e.eBV(n);const l=e.XpG(3);return e.Njj(l.onPageChange(l.pageIndex+1))}),e.EFF(4," Next "),e.k0s()()}if(2&t){const n=e.XpG(3);e.R7$(),e.Y8G("disabled",1===n.pageIndex),e.R7$(2),e.Y8G("disabled",n.pageIndex===n.totalPages)}}function G(t,r){if(1&t&&(e.j41(0,"table",14)(1,"thead")(2,"tr")(3,"th"),e.EFF(4,"#"),e.k0s(),e.j41(5,"th"),e.EFF(6,"Name"),e.k0s(),e.j41(7,"th"),e.EFF(8,"Actions"),e.k0s()()(),e.j41(9,"tbody"),e.Z7z(10,D,12,8,"tr",null,$),e.k0s()(),e.DNE(12,N,5,2,"div",15)),2&t){const n=e.XpG(2);e.R7$(10),e.Dyx(n.colleges),e.R7$(2),e.vxM(n.totalCount>n.pageSize?12:-1)}}function x(t,r){1&t&&(e.j41(0,"div",13)(1,"p"),e.EFF(2,"No colleges found."),e.k0s()())}function S(t,r){if(1&t&&e.DNE(0,G,13,1)(1,x,3,0,"div",13),2&t){const n=e.XpG();e.vxM(n.colleges.length>0?0:1)}}const X=(t,r)=>r.id;function V(t,r){1&t&&(e.j41(0,"div",9),e.EFF(1,"College name is required"),e.k0s())}function w(t,r){if(1&t&&(e.j41(0,"option",13),e.EFF(1),e.k0s()),2&t){const n=r.$implicit;e.Y8G("value",n.id),e.R7$(),e.JRh(n.name)}}function B(t,r){1&t&&(e.j41(0,"div",9),e.EFF(1,"University is required"),e.k0s())}function Y(t,r){1&t&&(e.j41(0,"div",9),e.EFF(1,"Grade Level Count is required"),e.k0s())}function z(t,r){1&t&&(e.nrm(0,"span",20),e.EFF(1," Updating... "))}function A(t,r){1&t&&e.EFF(0," Update College ")}function q(t,r){1&t&&(e.j41(0,"div",19)(1,"div",21),e.EFF(2,"Processing..."),e.k0s()())}const P=[{path:"",pathMatch:"full",component:(()=>{class t{constructor(n,i){this.collegeService=n,this.router=i,this.colleges=[],this.loading=!1,this.search="",this.totalCount=0,this.pageSize=10,this.pageIndex=1,this.showDeleteConfirm=!1}ngOnInit(){this.loadColleges()}loadColleges(){this.loading=!0,this.collegeService.getList(this.pageIndex,this.pageSize,this.search).subscribe({next:n=>{this.colleges=n.items,this.totalCount=n.totalCount,this.loading=!1},error:()=>{this.loading=!1}})}onSearchChange(){this.pageIndex=1,this.loadColleges()}onPageChange(n){this.pageIndex=n,this.loadColleges()}confirmDelete(n){this.collegeToDelete=n,this.showDeleteConfirm=!0}cancelDelete(){this.showDeleteConfirm=!1,this.collegeToDelete=null}deleteCollege(){this.collegeToDelete&&this.collegeService.delete(this.collegeToDelete.id).subscribe({next:()=>{this.loadColleges(),this.showDeleteConfirm=!1,this.collegeToDelete=null},error:n=>{console.error("Failed to delete college:",n),this.showDeleteConfirm=!1,this.collegeToDelete=null}})}get totalPages(){return Math.ceil(this.totalCount/this.pageSize)}static{this.\u0275fac=function(i){return new(i||t)(e.rXU(C.Z),e.rXU(p.Ix))}}static{this.\u0275cmp=e.VBU({type:t,selectors:[["app-list-college"]],decls:11,vars:4,consts:[[1,"list-container",2,"width","100%"],[1,"delete-confirm-card"],[1,"toolbar"],["type","text","placeholder","Search colleges...",1,"search-input",3,"ngModelChange","keyup.enter","ngModel"],["title","Search",1,"btn","btn-search",3,"click"],[1,"bi","bi-search"],["routerLink","/colleges/create","title","Create",1,"btn","btn-success"],[1,"bi","bi-plus-circle","me-1"],[1,"loading-container"],[1,"delete-confirm-actions"],[1,"btn","btn-secondary",3,"click"],[1,"btn","btn-danger",3,"click"],[1,"loading-text"],[1,"no-data-message"],[1,"table",2,"width","100%"],[1,"pagination"],[1,"actions"],["title","View",1,"btn","btn-view",3,"routerLink"],[1,"bi","bi-eye"],["title","Edit",1,"btn","btn-edit",3,"routerLink"],[1,"bi","bi-pencil"],["title","Delete",1,"btn","btn-delete",3,"click"],[1,"bi","bi-trash"],[1,"btn","btn-previous",3,"click","disabled"],[1,"btn","btn-next",3,"click","disabled"]],template:function(i,l){1&i&&(e.j41(0,"div",0),e.DNE(1,T,11,1,"div",1),e.j41(2,"div",2)(3,"input",3),e.mxI("ngModelChange",function(a){return e.DH7(l.search,a)||(l.search=a),a}),e.bIt("keyup.enter",function(){return l.onSearchChange()}),e.k0s(),e.j41(4,"button",4),e.bIt("click",function(){return l.onSearchChange()}),e.nrm(5,"i",5),e.k0s(),e.j41(6,"button",6),e.nrm(7,"i",7),e.EFF(8," Create "),e.k0s()(),e.DNE(9,U,3,0,"div",8)(10,S,2,1),e.k0s()),2&i&&(e.R7$(),e.vxM(l.showDeleteConfirm?1:-1),e.R7$(2),e.R50("ngModel",l.search),e.R7$(6),e.vxM(l.loading?9:-1),e.R7$(),e.vxM(l.loading?-1:10))},dependencies:[o.YN,o.me,o.BC,o.vS,p.Wk],encapsulation:2})}}return t})()},{path:"create",pathMatch:"full",component:L},{path:"update/:id",pathMatch:"full",component:(()=>{class t{constructor(n,i,l,s,a){this.fb=n,this.collegeService=i,this.universityService=l,this.router=s,this.route=a,this.loading=!1,this.universities=[],this.collegeForm=this.fb.group({name:["",o.k0.required],universityId:["",o.k0.required],gradeLevelCount:[0,[o.k0.required,o.k0.min(1)]]})}ngOnInit(){this.collegeId=this.route.snapshot.paramMap.get("id"),this.loadUniversities(),this.loadCollege()}loadUniversities(){this.universityService.getUniversitysList().subscribe({next:n=>this.universities=n.items,error:n=>console.error("Error loading universities",n)})}loadCollege(){this.collegeService.get(this.collegeId).subscribe({next:n=>{this.collegeForm.patchValue({name:n.data.name,universityId:n.data.universityId})},error:n=>console.error("Error loading college",n)})}submit(){if(this.collegeForm.invalid)return;const n=this.collegeForm.value;this.loading=!0,this.collegeService.update(this.collegeId,n).subscribe({next:()=>{this.loading=!1,this.router.navigate(["/colleges"])},error:i=>{this.loading=!1,alert("Error: "+i.message)}})}static{this.\u0275fac=function(i){return new(i||t)(e.rXU(o.ok),e.rXU(C.Z),e.rXU(h.W),e.rXU(p.Ix),e.rXU(p.nX))}}static{this.\u0275cmp=e.VBU({type:t,selectors:[["app-update-college"]],decls:39,vars:14,consts:[[1,"update-container"],[1,"header"],["type","button","routerLink","/colleges",1,"btn","btn-secondary"],[1,"college-form",3,"ngSubmit","formGroup"],[1,"form-section"],[1,"form-row"],[1,"form-group"],["for","name"],["id","name","type","text","formControlName","name","placeholder","Enter college name",1,"form-control"],[1,"error-message"],["for","universityId"],["id","universityId","formControlName","universityId",1,"form-control"],["value",""],[3,"value"],["for","gradeLevelCount"],["id","gradeLevelCount","type","number","formControlName","gradeLevelCount","placeholder","Enter grade level count",1,"form-control"],[1,"form-actions"],["type","button","routerLink","/colleges",1,"btn","btn-secondary",3,"disabled"],["type","submit",1,"btn","btn-primary",3,"disabled"],[1,"loading-overlay"],[1,"spinner"],[1,"loading-spinner"]],template:function(i,l){if(1&i&&(e.j41(0,"div",0)(1,"div",1)(2,"h2"),e.EFF(3,"Update College"),e.k0s(),e.j41(4,"button",2),e.EFF(5,"Back to List"),e.k0s()(),e.j41(6,"form",3),e.bIt("ngSubmit",function(){return l.submit()}),e.j41(7,"div",4)(8,"h3"),e.EFF(9,"Basic Information"),e.k0s(),e.j41(10,"div",5)(11,"div",6)(12,"label",7),e.EFF(13,"College Name *"),e.k0s(),e.nrm(14,"input",8),e.DNE(15,V,2,0,"div",9),e.k0s()(),e.j41(16,"div",5)(17,"div",6)(18,"label",10),e.EFF(19,"University *"),e.k0s(),e.j41(20,"select",11)(21,"option",12),e.EFF(22,"-- Select University --"),e.k0s(),e.Z7z(23,w,2,2,"option",13,X),e.k0s(),e.DNE(25,B,2,0,"div",9),e.k0s()(),e.j41(26,"div",5)(27,"div",6)(28,"label",14),e.EFF(29,"Grade Level Count *"),e.k0s(),e.nrm(30,"input",15),e.DNE(31,Y,2,0,"div",9),e.k0s()()(),e.j41(32,"div",16)(33,"button",17),e.EFF(34," Cancel "),e.k0s(),e.j41(35,"button",18),e.DNE(36,z,2,0)(37,A,1,0),e.k0s()()(),e.DNE(38,q,3,0,"div",19),e.k0s()),2&i){let s,a,d,c,u,g;e.R7$(6),e.Y8G("formGroup",l.collegeForm),e.R7$(8),e.AVh("is-invalid",(null==(s=l.collegeForm.get("name"))?null:s.invalid)&&(null==(s=l.collegeForm.get("name"))?null:s.touched)),e.R7$(),e.vxM(null!=(a=l.collegeForm.get("name"))&&a.invalid&&null!=(a=l.collegeForm.get("name"))&&a.touched?15:-1),e.R7$(5),e.AVh("is-invalid",(null==(d=l.collegeForm.get("universityId"))?null:d.invalid)&&(null==(d=l.collegeForm.get("universityId"))?null:d.touched)),e.R7$(3),e.Dyx(l.universities),e.R7$(2),e.vxM(null!=(c=l.collegeForm.get("universityId"))&&c.invalid&&null!=(c=l.collegeForm.get("universityId"))&&c.touched?25:-1),e.R7$(5),e.AVh("is-invalid",(null==(u=l.collegeForm.get("gradeLevelCount"))?null:u.invalid)&&(null==(u=l.collegeForm.get("gradeLevelCount"))?null:u.touched)),e.R7$(),e.vxM(null!=(g=l.collegeForm.get("gradeLevelCount"))&&g.invalid&&null!=(g=l.collegeForm.get("gradeLevelCount"))&&g.touched?31:-1),e.R7$(2),e.Y8G("disabled",l.loading),e.R7$(2),e.Y8G("disabled",l.collegeForm.invalid||l.loading),e.R7$(),e.vxM(l.loading?36:37),e.R7$(2),e.vxM(l.loading?38:-1)}},dependencies:[o.X1,o.qT,o.xH,o.y7,o.me,o.Q0,o.wz,o.BC,o.cb,o.j4,o.JD],encapsulation:2})}}return t})()}];let J=(()=>{class t{static{this.\u0275fac=function(i){return new(i||t)}}static{this.\u0275mod=e.$C({type:t})}static{this.\u0275inj=e.G2t({imports:[p.iI.forChild(P),p.iI]})}}return t})(),Z=(()=>{class t{static{this.\u0275fac=function(i){return new(i||t)}}static{this.\u0275mod=e.$C({type:t})}static{this.\u0275inj=e.G2t({imports:[_.MD,J]})}}return t})()}}]);