"use strict";(self.webpackChunkAcadmy=self.webpackChunkAcadmy||[]).push([[101],{4101:(qe,O,d)=>{d.r(O),d.d(O,{DEFAULT_IDENTITY_CREATE_FORM_PROPS:()=>k,DEFAULT_IDENTITY_EDIT_FORM_PROPS:()=>D,DEFAULT_IDENTITY_ENTITY_ACTIONS:()=>A,DEFAULT_IDENTITY_ENTITY_PROPS:()=>E,DEFAULT_IDENTITY_TOOLBAR_ACTIONS:()=>G,IDENTITY_CREATE_FORM_PROP_CONTRIBUTORS:()=>I,IDENTITY_EDIT_FORM_PROP_CONTRIBUTORS:()=>N,IDENTITY_ENTITY_ACTION_CONTRIBUTORS:()=>v,IDENTITY_ENTITY_PROP_CONTRIBUTORS:()=>C,IDENTITY_TOOLBAR_ACTION_CONTRIBUTORS:()=>T,IdentityExtensionsGuard:()=>W,IdentityModule:()=>Ke,RolesComponent:()=>b,UsersComponent:()=>f,identityExtensionsResolver:()=>z});var l=d(3616),e=d(4438);let K=(()=>{class s{constructor(t){this.restService=t,this.apiName="AbpIdentity",this.create=i=>this.restService.request({method:"POST",url:"/api/identity/roles",body:i},{apiName:this.apiName}),this.delete=i=>this.restService.request({method:"DELETE",url:`/api/identity/roles/${i}`},{apiName:this.apiName}),this.get=i=>this.restService.request({method:"GET",url:`/api/identity/roles/${i}`},{apiName:this.apiName}),this.getAllList=()=>this.restService.request({method:"GET",url:"/api/identity/roles/all"},{apiName:this.apiName}),this.getList=i=>this.restService.request({method:"GET",url:"/api/identity/roles",params:{filter:i.filter,sorting:i.sorting,skipCount:i.skipCount,maxResultCount:i.maxResultCount}},{apiName:this.apiName}),this.update=(i,n)=>this.restService.request({method:"PUT",url:`/api/identity/roles/${i}`,body:n},{apiName:this.apiName})}static{this.\u0275fac=function(i){return new(i||s)(e.KVO(l.G9T))}}static{this.\u0275prov=e.jDH({token:s,factory:s.\u0275fac,providedIn:"root"})}}return s})(),q=(()=>{class s{constructor(t){this.restService=t,this.apiName="AbpIdentity",this.create=i=>this.restService.request({method:"POST",url:"/api/identity/users",body:i},{apiName:this.apiName}),this.delete=i=>this.restService.request({method:"DELETE",url:`/api/identity/users/${i}`},{apiName:this.apiName}),this.findByEmail=i=>this.restService.request({method:"GET",url:`/api/identity/users/by-email/${i}`},{apiName:this.apiName}),this.findByUsername=i=>this.restService.request({method:"GET",url:`/api/identity/users/by-username/${i}`},{apiName:this.apiName}),this.get=i=>this.restService.request({method:"GET",url:`/api/identity/users/${i}`},{apiName:this.apiName}),this.getAssignableRoles=()=>this.restService.request({method:"GET",url:"/api/identity/users/assignable-roles"},{apiName:this.apiName}),this.getList=i=>this.restService.request({method:"GET",url:"/api/identity/users",params:{filter:i.filter,sorting:i.sorting,skipCount:i.skipCount,maxResultCount:i.maxResultCount}},{apiName:this.apiName}),this.getRoles=i=>this.restService.request({method:"GET",url:`/api/identity/users/${i}/roles`},{apiName:this.apiName}),this.update=(i,n)=>this.restService.request({method:"PUT",url:`/api/identity/users/${i}`,body:n},{apiName:this.apiName}),this.updateRoles=(i,n)=>this.restService.request({method:"PUT",url:`/api/identity/users/${i}/roles`,body:n},{apiName:this.apiName})}static{this.\u0275fac=function(i){return new(i||s)(e.KVO(l.G9T))}}static{this.\u0275prov=e.jDH({token:s,factory:s.\u0275fac,providedIn:"root"})}}return s})();var m=d(9862),r=d(5923),R=d(980),g=d(8141),x=d(5558),M=d(6354),p=d(4341),y=d(4721);let J=(()=>{class s{constructor(t){this.restService=t,this.apiName="AbpPermissionManagement",this.get=(i,n)=>this.restService.request({method:"GET",url:"/api/permission-management/permissions",params:{providerName:i,providerKey:n}},{apiName:this.apiName}),this.update=(i,n,o)=>this.restService.request({method:"PUT",url:"/api/permission-management/permissions",params:{providerName:i,providerKey:n},body:o},{apiName:this.apiName})}static{this.\u0275fac=function(i){return new(i||s)(e.KVO(l.G9T))}}static{this.\u0275prov=e.jDH({token:s,factory:s.\u0275fac,providedIn:"root"})}}return s})();var H=d(8793),S=d(7673),Z=d(6697),ee=d(177);const te=["selectAllInThisTabsRef"],ie=["selectAllInAllTabsRef"],se=()=>({size:"lg",scrollable:!1}),ne=s=>({assignedCount:s});function oe(s,a){if(1&s&&(e.j41(0,"h4"),e.EFF(1),e.nI1(2,"abpLocalization"),e.k0s()),2&s){const t=e.XpG(2);e.R7$(),e.Lme(" ",e.bMT(2,2,"AbpPermissionManagement::Permissions")," - ",t.entityDisplayName||t.data.entityDisplayName," ")}}function ae(s,a){if(1&s&&(e.j41(0,"span"),e.EFF(1),e.k0s()),2&s){const t=e.XpG();e.R7$(),e.SpI("(",t.assignedCount,")")}}function re(s,a){if(1&s){const t=e.RV6();e.j41(0,"a",27),e.bIt("click",function(){e.eBV(t);const n=e.XpG().$implicit,o=e.XpG(3);return e.Njj(o.onChangeGroup(n))})("select",function(){e.eBV(t);const n=e.XpG().$implicit,o=e.XpG(3);return e.Njj(o.setDisabled(n.permissions))}),e.j41(1,"div"),e.EFF(2),e.DNE(3,ae,2,1,"span"),e.k0s()()}if(2&s){const t=a,i=e.XpG().$implicit,n=e.XpG(3);e.AVh("active",(null==n.selectedGroup?null:n.selectedGroup.name)===(null==i?null:i.name)),e.R7$(),e.AVh("font-weight-bold",t.assignedCount),e.R7$(),e.SpI(" ",null==i?null:i.displayName," "),e.R7$(),e.vxM(t.assignedCount>0?3:-1)}}function le(s,a){if(1&s&&(e.j41(0,"li",23),e.DNE(1,re,4,6,"a",26),e.k0s()),2&s){let t;const i=a.$implicit,n=e.XpG(3);e.R7$(),e.vxM((t=e.eq3(1,ne,n.getAssignedCount(i.name)))?1:-1,t)}}function ce(s,a){if(1&s&&(e.j41(0,"span",34),e.EFF(1),e.k0s()),2&s){const t=a.$implicit;e.R7$(),e.Lme("",t.providerName,": ",t.providerKey,"")}}function pe(s,a){if(1&s&&e.Z7z(0,ce,2,2,"span",34,e.Vm6),2&s){const t=e.XpG().$implicit;e.Dyx(t.grantedProviders)}}function me(s,a){if(1&s){const t=e.RV6();e.j41(0,"div",31)(1,"input",32,5),e.bIt("click",function(){const n=e.eBV(t).$implicit,o=e.sdS(2),c=e.XpG(4);return e.Njj(c.onClickCheckbox(n,o.value))}),e.k0s(),e.j41(3,"label",33),e.EFF(4),e.DNE(5,pe,2,0),e.k0s()()}if(2&s){const t=a.$implicit,i=e.XpG(4);e.Y8G("ngStyle",t.style),e.R7$(),e.Y8G("checked",i.getChecked(t.name))("value",i.getChecked(t.name))("disabled",i.isGrantedByOtherProviderName(t.grantedProviders)),e.BMQ("id",t.name),e.R7$(2),e.BMQ("for",t.name),e.R7$(),e.SpI("",t.displayName," "),e.R7$(),e.vxM(i.hideBadges?-1:5)}}function de(s,a){if(1&s){const t=e.RV6();e.j41(0,"div",14)(1,"input",28,4),e.mxI("ngModelChange",function(n){e.eBV(t);const o=e.XpG(3);return e.DH7(o.selectThisTab,n)||(o.selectThisTab=n),e.Njj(n)}),e.bIt("click",function(){e.eBV(t);const n=e.XpG(3);return e.Njj(n.onClickSelectThisTab())}),e.k0s(),e.j41(3,"label",29),e.EFF(4),e.nI1(5,"abpLocalization"),e.k0s()(),e.nrm(6,"hr",30),e.Z7z(7,me,6,8,"div",31,e.Vm6)}if(2&s){const t=e.XpG(3);e.R7$(),e.R50("ngModel",t.selectThisTab),e.Y8G("disabled",t.disableSelectAllTab),e.R7$(3),e.JRh(e.bMT(5,3,"AbpPermissionManagement::SelectAllInThisTab")),e.R7$(3),e.Dyx(t.selectedGroupPermissions)}}function ue(s,a){if(1&s){const t=e.RV6();e.j41(0,"div",7)(1,"div",8)(2,"div",9)(3,"span",10),e.nrm(4,"i",11),e.k0s(),e.j41(5,"input",12),e.bIt("ngModelChange",function(n){e.eBV(t);const o=e.XpG(2);return e.Njj(o.filter.set(n))}),e.k0s()()(),e.j41(6,"div",13)(7,"div",14)(8,"input",15,3),e.mxI("ngModelChange",function(n){e.eBV(t);const o=e.XpG(2);return e.DH7(o.selectAllTab,n)||(o.selectAllTab=n),e.Njj(n)}),e.bIt("click",function(){e.eBV(t);const n=e.XpG(2);return e.Njj(n.onClickSelectAll())}),e.k0s(),e.j41(10,"label",16),e.EFF(11),e.nI1(12,"abpLocalization"),e.k0s()()()(),e.j41(13,"fieldset",17)(14,"legend",18),e.EFF(15),e.nI1(16,"abpLocalization"),e.k0s(),e.j41(17,"div",19)(18,"div",20)(19,"div",21)(20,"ul",22),e.Z7z(21,le,2,3,"li",23,e.Vm6),e.k0s()()(),e.j41(23,"div",24)(24,"div",25),e.DNE(25,de,9,5),e.k0s()()()()}if(2&s){const t=e.XpG(2);e.R7$(5),e.Y8G("ngModel",t.filter()),e.R7$(3),e.R50("ngModel",t.selectAllTab),e.Y8G("disabled",t.disabledSelectAllInAllTabs),e.R7$(3),e.JRh(e.bMT(12,6,"AbpPermissionManagement::SelectAllInAllTabs")),e.R7$(4),e.SpI(" ",e.bMT(16,8,"AbpPermissionManagement::PermissionGroup")," "),e.R7$(6),e.Dyx(t.permissionGroups()),e.R7$(4),e.vxM(t.selectedGroupPermissions.length?25:-1)}}function he(s,a){if(1&s){const t=e.RV6();e.j41(0,"button",35),e.EFF(1),e.nI1(2,"abpLocalization"),e.k0s(),e.j41(3,"abp-button",36),e.bIt("click",function(){e.eBV(t);const n=e.XpG(2);return e.Njj(n.submit())}),e.EFF(4),e.nI1(5,"abpLocalization"),e.k0s()}2&s&&(e.R7$(),e.SpI(" ",e.bMT(2,2,"AbpIdentity::Cancel")," "),e.R7$(3),e.JRh(e.bMT(5,4,"AbpIdentity::Save")))}function _e(s,a){1&s&&e.DNE(0,oe,3,4,"ng-template",null,0,e.C5r)(2,ue,26,10,"ng-template",null,1,e.C5r)(4,he,6,6,"ng-template",null,2,e.C5r)}let F=(()=>{class s{constructor(){this.service=(0,e.WQX)(J),this.configState=(0,e.WQX)(l.d14),this.toasterService=(0,e.WQX)(m.W9),this.hideBadges=!1,this._visible=!1,this.visibleChange=new e.bkB,this.data={groups:[],entityDisplayName:""},this.permissions=[],this.selectThisTab=!1,this.selectAllTab=!1,this.disableSelectAllTab=!1,this.disabledSelectAllInAllTabs=!1,this.modalBusy=!1,this.filter=(0,e.vPA)(""),this.selectedGroupPermissions=[],this.permissionGroupSignal=(0,e.vPA)([]),this.permissionGroups=(0,e.EWP)(()=>{const t=this.filter().toLowerCase().trim();let i=this.permissionGroupSignal();if(!t)return this.setSelectedGroup(i[0]),i;const n=o=>o.toLowerCase().includes(t);return i=i.filter(o=>o.permissions.some(c=>n(c.displayName)||n(o.displayName))),i.length?this.setSelectedGroup(i[0]):this.selectedGroupPermissions=[],i}),this.trackByFn=(t,i)=>i.name}get visible(){return this._visible}set visible(t){t!==this._visible&&(t?this.openModal().subscribe(()=>{this._visible=!0,this.visibleChange.emit(!0),(0,H.x)(this.selectAllInAllTabsRef.changes,this.selectAllInThisTabsRef.changes).pipe((0,Z.s)(1)).subscribe(()=>{this.initModal()})}):(this.setSelectedGroup(null),this._visible=!1,this.visibleChange.emit(!1),this.filter.set("")))}getChecked(t){return(this.permissions.find(i=>i.name===t)||{isGranted:!1}).isGranted}setSelectedGroup(t){if(this.selectedGroup=t,!this.selectedGroup)return void(this.selectedGroupPermissions=[]);const i=`margin-${"rtl"===document.body.dir?"right":"left"}.px`,n=(this.data.groups.find(o=>o.name===this.selectedGroup?.name)||{}).permissions||[];this.selectedGroupPermissions=n.map(o=>({...o,style:{[i]:j(n,o)},isGranted:(this.permissions.find(c=>c.name===o.name)||{}).isGranted}))}setDisabled(t){this.disableSelectAllTab=!!t.length&&t.every(i=>i.isGranted&&i.grantedProviders?.every(n=>n.providerName!==this.providerName))}isGrantedByOtherProviderName(t){return!!t.length&&t.findIndex(i=>i.providerName!==this.providerName)>-1}onClickCheckbox(t){const{isGranted:i,grantedProviders:n}=t;i&&this.isGrantedByOtherProviderName(n)||(this.setSelectedGroup(this.selectedGroup),setTimeout(()=>{this.updatePermissionStatus(t),this.updateSelectedGroupPermissions(t),this.setParentClicked(t),this.setTabCheckboxState(),this.setGrantCheckboxState()},0))}updatePermissionStatus(t){this.permissions=this.permissions.map(i=>{const o=t.parentName===i.name,c=t.name===i.parentName;return t.name==i.name?{...i,isGranted:!i.isGranted}:c&&i.isGranted?{...i,isGranted:!1}:o&&!i.isGranted?{...i,isGranted:!0}:i})}setParentClicked(t){if(t.parentName){const i=U(this.permissions,t);if(i.length>0){const n=new Set(i.map(o=>o.name));this.permissions=this.permissions.map(o=>{let c=o.isGranted;return o.parentName===t.name&&!t.isGranted&&(c=!1),n.has(o.name)&&(c=!0),{...o,isGranted:c}})}}else this.permissions=this.permissions.map(i=>{const n=U(this.permissions,i);if(n.length>0){const o=n[n.length-1];if(o.name===t.name&&!o.isGranted)return{...i,isGranted:!1}}return i})}updateSelectedGroupPermissions(t){this.selectedGroupPermissions=this.selectedGroupPermissions.map(i=>(i.name===t.name&&(i.isGranted=!i.isGranted),i))}setTabCheckboxState(){const t=this.permissions.filter(o=>o.grantedProviders.every(c=>c.providerName===this.providerName)),i=t.filter(o=>o.isGranted),n=document.querySelector("#select-all-in-this-tabs");n&&(i.length===t.length?(n.indeterminate=!1,this.selectThisTab=!0):0===i.length?(n.indeterminate=!1,this.selectThisTab=!1):n.indeterminate=!0)}setGrantCheckboxState(){const t=this.permissions.filter(o=>o.grantedProviders.every(c=>c.providerName===this.providerName)),i=t.filter(o=>o.isGranted),n=document.querySelector("#select-all-in-all-tabs");i.length===t.length?(n.indeterminate=!1,this.selectAllTab=!0):0===i.length?(n.indeterminate=!1,this.selectAllTab=!1):n.indeterminate=!0}onClickSelectThisTab(){this.selectedGroupPermissions.forEach(t=>{if(t.isGranted&&this.isGrantedByOtherProviderName(t.grantedProviders))return;const i=this.permissions.findIndex(n=>n.name===t.name);this.permissions=[...this.permissions.slice(0,i),{...this.permissions[i],isGranted:!this.selectThisTab},...this.permissions.slice(i+1)]}),this.setGrantCheckboxState()}onClickSelectAll(){this.filter()&&this.filter.set(""),this.permissions=this.permissions.map(t=>({...t,isGranted:this.isGrantedByOtherProviderName(t.grantedProviders)||!this.selectAllTab})),this.disableSelectAllTab||(this.selectThisTab=!this.selectAllTab,this.setTabCheckboxState(),this.filter()&&this.setGrantCheckboxState()),this.onChangeGroup(this.selectedGroup)}onChangeGroup(t){this.setDisabled(t.permissions),this.setSelectedGroup(t),this.setTabCheckboxState()}submit(){const t=B(this.data.groups),i=this.permissions.filter(n=>(t.find(o=>o.name===n.name)||{}).isGranted!==n.isGranted).map(({name:n,isGranted:o})=>({name:n,isGranted:o}));i.length?(this.modalBusy=!0,this.service.update(this.providerName,this.providerKey,{permissions:i}).pipe((0,x.n)(()=>this.shouldFetchAppConfig()?this.configState.refreshAppState():(0,S.of)(null)),(0,R.j)(()=>this.modalBusy=!1)).subscribe(()=>{this.visible=!1,this.toasterService.success("AbpUi::SavedSuccessfully")})):this.visible=!1}openModal(){if(!this.providerKey||!this.providerName)throw new Error("Provider Key and Provider Name are required.");return this.service.get(this.providerName,this.providerKey).pipe((0,g.M)(t=>{const{groups:i}=t||{};this.data=t,this.permissionGroupSignal.set(i),this.permissions=B(i),this.setSelectedGroup(i[0]),this.disabledSelectAllInAllTabs=this.permissions.every(n=>n.isGranted&&n.grantedProviders.every(o=>o.providerName!==this.providerName))}))}initModal(){setTimeout(()=>{this.setDisabled(this.selectedGroup?.permissions||[]),this.setTabCheckboxState(),this.setGrantCheckboxState()})}getAssignedCount(t){return this.permissions.reduce((i,n)=>n.groupName===t&&n.isGranted?i+1:i,0)}shouldFetchAppConfig(){const t=this.configState.getOne("currentUser");return"R"===this.providerName?t.roles.some(i=>i===this.providerKey):"U"===this.providerName&&t.id===this.providerKey}static{this.\u0275fac=function(i){return new(i||s)}}static{this.\u0275cmp=e.VBU({type:s,selectors:[["abp-permission-management"]],viewQuery:function(i,n){if(1&i&&(e.GBs(te,5),e.GBs(ie,5)),2&i){let o;e.mGM(o=e.lsd())&&(n.selectAllInThisTabsRef=o),e.mGM(o=e.lsd())&&(n.selectAllInAllTabsRef=o)}},inputs:{providerName:"providerName",providerKey:"providerKey",hideBadges:"hideBadges",entityDisplayName:"entityDisplayName",visible:"visible"},outputs:{visibleChange:"visibleChange"},exportAs:["abpPermissionManagement"],standalone:!1,decls:2,vars:5,consts:[["abpHeader",""],["abpBody",""],["abpFooter",""],["selectAllInAllTabsRef",""],["selectAllInThisTabsRef",""],["permissionCheckbox",""],[3,"visibleChange","visible","busy","options"],[1,"row","d-flex","align-items-center","mb-2"],[1,"col"],[1,"input-group","mb-2"],["id","basic-addon1",1,"input-group-text"],[1,"bi","bi-search"],["type","text","id","permission-search","placeholder","Filter",1,"form-control",3,"ngModelChange","ngModel"],[1,"col-auto"],[1,"form-check","mb-2"],["type","checkbox","id","select-all-in-all-tabs","name","select-all-in-all-tabs",1,"form-check-input",3,"ngModelChange","click","ngModel","disabled"],["for","select-all-in-all-tabs",1,"form-check-label"],[1,"border","rounded-4","p-3"],[1,"px-1","h5","mb-0"],[1,"row"],[1,"col-md-4"],[1,"overflow-auto","lpx-scroll-pills-container","scroll-in-modal"],[1,"nav","nav-pills","flex-column"],[1,"border","nav-item"],[1,"col-md-8","scroll-in-modal"],[1,"ps-1"],[1,"nav-link","pointer",3,"active"],[1,"nav-link","pointer",3,"click","select"],["type","checkbox","id","select-all-in-this-tabs","name","select-all-in-this-tabs",1,"form-check-input",3,"ngModelChange","click","ngModel","disabled"],["for","select-all-in-this-tabs",1,"form-check-label"],[1,"my-2"],[1,"form-check","mb-2",3,"ngStyle"],["type","checkbox",1,"form-check-input",3,"click","checked","value","disabled"],[1,"form-check-label"],[1,"badge","bg-primary","text-dark"],["type","button","abpClose","",1,"btn","btn-outline-primary"],["iconClass","fa fa-check",3,"click"]],template:function(i,n){1&i&&(e.j41(0,"abp-modal",6),e.mxI("visibleChange",function(c){return e.DH7(n.visible,c)||(n.visible=c),c}),e.DNE(1,_e,6,0),e.k0s()),2&i&&(e.R50("visible",n.visible),e.Y8G("busy",n.modalBusy)("options",e.lJ4(4,se)),e.R7$(),e.vxM(n.data.entityDisplayName||n.entityDisplayName?1:-1))},dependencies:[ee.B3,p.me,p.Zm,p.BC,p.vS,m.Qp,m.zf,m.b6,l.aM3],styles:[".overflow-scroll[_ngcontent-%COMP%]{max-height:70vh;overflow-y:scroll}.scroll-in-modal[_ngcontent-%COMP%]{overflow:auto;max-height:calc(100vh - 15rem)}fieldset[_ngcontent-%COMP%]   legend[_ngcontent-%COMP%]{float:none;width:auto}.lpx-scroll-pills-container[_ngcontent-%COMP%]   ul[_ngcontent-%COMP%]{display:block;max-height:500px;overflow-y:auto}.lpx-scroll-pills-container[_ngcontent-%COMP%]   .tab-content[_ngcontent-%COMP%]{padding-top:0!important;padding-bottom:0!important}.lpx-scroll-pills-container[_ngcontent-%COMP%]   ul[_ngcontent-%COMP%]   li[_ngcontent-%COMP%]{margin-bottom:10px;border-radius:10px}.lpx-scroll-pills-container[_ngcontent-%COMP%]   ul[_ngcontent-%COMP%]   li[_ngcontent-%COMP%]   a.active[_ngcontent-%COMP%]{color:#fff!important;border-color:#6c5dd3!important;background-color:#6c5dd3!important}"]})}}return s})();function U(s,a){const t=new Map(s.map(o=>[o.name,o]));let i=t.get(a.name)??null;const n=[];for(;i&&i.parentName;){const o=t.get(i.parentName);if(!o)break;n.push(o),i=o}return n}function j(s,a){const t=s.find(i=>i.name===a.parentName);if(t&&t.parentName){let i=20;return i+=j(s,t)}return t?20:0}function B(s){return s.reduce((a,t)=>[...a,...t.permissions.map(i=>({...i,groupName:t.name||""}))],[])}let be=(()=>{class s{static{this.\u0275fac=function(i){return new(i||s)}}static{this.\u0275mod=e.$C({type:s})}static{this.\u0275inj=e.G2t({imports:[l.Ui,m.Ts]})}}return s})();var P=d(1998),_=d(3184),L=d(430);const fe=()=>({value:"R"}),$=s=>({value:s}),X=s=>({value:s,twoWay:!0}),ge=()=>({value:!0}),ye=(s,a,t,i)=>({providerName:s,providerKey:a,visible:t,hideBadges:i}),Y=s=>({visibleChange:s}),V=(s,a,t)=>({inputs:s,outputs:a,componentKey:t});function ve(s,a){if(1&s&&(e.j41(0,"h3"),e.EFF(1),e.nI1(2,"abpLocalization"),e.k0s()),2&s){const t=e.XpG();e.R7$(),e.JRh(e.bMT(2,1,null!=t.selected&&t.selected.id?"AbpIdentity::Edit":"AbpIdentity::NewRole"))}}function Te(s,a){if(1&s){const t=e.RV6();e.j41(0,"form",10),e.bIt("ngSubmit",function(){e.eBV(t);const n=e.XpG();return e.Njj(n.save())}),e.nrm(1,"abp-extensible-form",11),e.k0s()}if(2&s){const t=e.XpG();e.Y8G("formGroup",t.form),e.R7$(),e.Y8G("selectedRecord",t.selected)}}function Ce(s,a){if(1&s){const t=e.RV6();e.j41(0,"button",12),e.EFF(1),e.nI1(2,"abpLocalization"),e.k0s(),e.j41(3,"abp-button",13),e.bIt("click",function(){e.eBV(t);const n=e.XpG();return e.Njj(n.save())}),e.EFF(4),e.nI1(5,"abpLocalization"),e.k0s()}if(2&s){const t=e.XpG();e.R7$(),e.SpI(" ",e.bMT(2,3,"AbpIdentity::Cancel")," "),e.R7$(2),e.Y8G("disabled",null==t.form?null:t.form.invalid),e.R7$(),e.JRh(e.bMT(5,5,"AbpIdentity::Save"))}}function Ie(s,a){if(1&s){const t=e.RV6();e.j41(0,"abp-permission-management",14,3),e.bIt("abpInit",function(){const n=e.eBV(t).initTemplate,o=e.sdS(1);return e.Njj(n(o))}),e.k0s()}}const Ne=["modalContent"],Re=()=>({value:"U"}),Me=(s,a,t)=>({providerName:s,providerKey:a,visible:t}),Se=(s,a,t)=>({checkboxId:s,label:a,formControl:t}),Pe=(s,a)=>({inputs:s,componentKey:a});function Ae(s,a){if(1&s&&(e.j41(0,"h3"),e.EFF(1),e.nI1(2,"abpLocalization"),e.k0s()),2&s){const t=e.XpG();e.R7$(),e.JRh(e.bMT(2,1,null!=t.selected&&t.selected.id?"AbpIdentity::Edit":"AbpIdentity::NewUser"))}}function Ge(s,a){if(1&s&&e.nrm(0,"abp-extensible-form",22),2&s){const t=e.XpG(3);e.Y8G("selectedRecord",t.selected)}}function Ee(s,a){if(1&s&&e.nrm(0,"abp-checkbox",25),2&s){const t=e.XpG(),i=t.$implicit,n=t.$index,o=e.XpG(4);e.Y8G("checkboxId","roles-"+n)("formControl",i.controls[o.roles[n].name])("label",o.roles[n].name)}}function ke(s,a){if(1&s&&(e.j41(0,"div",23),e.DNE(1,Ee,1,3,"abp-checkbox",24),e.k0s()),2&s){const t=a.$implicit,i=a.$index,n=e.XpG(4);e.R7$(),e.Y8G("abpReplaceableTemplate",e.l_i(5,Pe,e.sMw(1,Se,"roles-"+i,n.roles[i].name,t.controls[n.roles[i].name]),n.inputKey))}}function De(s,a){if(1&s&&e.Z7z(0,ke,2,8,"div",23,e.Vm6),2&s){const t=e.XpG(3);e.Dyx(t.roleGroups)}}function Oe(s,a){if(1&s){const t=e.RV6();e.j41(0,"form",16),e.bIt("ngSubmit",function(){e.eBV(t);const n=e.XpG(2);return e.Njj(n.save())}),e.j41(1,"ul",17,3)(3,"li",18)(4,"a",19),e.EFF(5),e.nI1(6,"abpLocalization"),e.k0s(),e.DNE(7,Ge,1,1,"ng-template",20),e.k0s(),e.j41(8,"li",18)(9,"a",19),e.EFF(10),e.nI1(11,"abpLocalization"),e.k0s(),e.DNE(12,De,2,0,"ng-template",20),e.k0s()(),e.nrm(13,"div",21),e.k0s()}if(2&s){const t=e.sdS(2),i=e.XpG(2);e.Y8G("formGroup",i.form),e.R7$(5),e.JRh(e.bMT(6,4,"AbpIdentity::UserInformations")),e.R7$(5),e.JRh(e.bMT(11,6,"AbpIdentity::Roles")),e.R7$(3),e.Y8G("ngbNavOutlet",t)}}function xe(s,a){1&s&&(e.j41(0,"div",15),e.nrm(1,"i",26),e.k0s())}function Fe(s,a){if(1&s&&e.DNE(0,Oe,14,8,"form",14)(1,xe,2,0,"div",15),2&s){const t=e.XpG();e.vxM(t.form?0:1)}}function Ue(s,a){if(1&s){const t=e.RV6();e.j41(0,"button",27),e.EFF(1),e.nI1(2,"abpLocalization"),e.k0s(),e.j41(3,"abp-button",28),e.bIt("click",function(){e.eBV(t);const n=e.XpG();return e.Njj(n.save())}),e.EFF(4),e.nI1(5,"abpLocalization"),e.k0s()}if(2&s){const t=e.XpG();e.R7$(),e.SpI(" ",e.bMT(2,3,"AbpIdentity::Cancel")," "),e.R7$(2),e.Y8G("disabled",null==t.form?null:t.form.invalid),e.R7$(),e.JRh(e.bMT(5,5,"AbpIdentity::Save"))}}function je(s,a){if(1&s){const t=e.RV6();e.j41(0,"abp-permission-management",29,4),e.bIt("abpInit",function(){const n=e.eBV(t).initTemplate,o=e.sdS(1);return e.Njj(n(o))}),e.k0s()}if(2&s){const t=e.XpG();e.Y8G("entityDisplayName",t.entityDisplayName)}}let b=(()=>{class s{constructor(){this.list=(0,e.WQX)(l.aGM),this.confirmationService=(0,e.WQX)(m.td),this.toasterService=(0,e.WQX)(m.W9),this.injector=(0,e.WQX)(e.zZn),this.service=(0,e.WQX)(K),this.data={items:[],totalCount:0},this.visiblePermissions=!1,this.modalBusy=!1,this.permissionManagementKey="PermissionManagement.PermissionManagementComponent",this.onVisiblePermissionChange=t=>{this.visiblePermissions=t}}ngOnInit(){this.hookToQuery()}buildForm(){const t=new r.a9(this.injector,this.selected);this.form=(0,r.uB)(t)}openModal(){this.buildForm(),this.isModalVisible=!0}add(){this.selected={},this.openModal()}edit(t){this.service.get(t).subscribe(i=>{this.selected=i,this.openModal()})}save(){if(!this.form.valid)return;this.modalBusy=!0;const{id:t}=this.selected||{};(t?this.service.update(t,{...this.selected,...this.form.value}):this.service.create(this.form.value)).pipe((0,R.j)(()=>this.modalBusy=!1)).subscribe(()=>{this.isModalVisible=!1,this.toasterService.success("AbpUi::SavedSuccessfully"),this.list.get()})}delete(t,i){this.confirmationService.warn("AbpIdentity::RoleDeletionConfirmationMessage","AbpIdentity::AreYouSure",{messageLocalizationParams:[i]}).subscribe(n=>{n===m.m.Status.confirm&&(this.toasterService.success("AbpUi::DeletedSuccessfully"),this.service.delete(t).subscribe(()=>this.list.get()))})}hookToQuery(){this.list.hookToQuery(t=>this.service.getList(t)).subscribe(t=>this.data=t)}openPermissionsModal(t){this.providerKey=t,setTimeout(()=>{this.visiblePermissions=!0},0)}sort(t){const{prop:i,dir:n}=t.sorts[0];this.list.sortKey=i,this.list.sortOrder=n}static{this.\u0275fac=function(i){return new(i||s)}}static{this.\u0275cmp=e.VBU({type:s,selectors:[["abp-roles"]],standalone:!1,features:[e.Jv_([l.aGM,{provide:r.JF,useValue:"Identity.RolesComponent"}])],decls:13,vars:27,consts:[["abpHeader",""],["abpBody",""],["abpFooter",""],["abpPermissionManagement","abpPermissionManagement"],[3,"title","toolbar"],["id","identity-roles-wrapper",1,"card"],[1,"card-body"],[3,"data","recordsTotal","list"],[3,"visibleChange","visible","busy"],[3,"abpInit",4,"abpReplaceableTemplate"],["validateOnSubmit","",3,"ngSubmit","formGroup"],[3,"selectedRecord"],["type","button","abpClose","",1,"btn","btn-outline-primary"],["iconClass","fa fa-check",3,"click","disabled"],[3,"abpInit"]],template:function(i,n){if(1&i){const o=e.RV6();e.j41(0,"abp-page",4),e.nI1(1,"abpLocalization"),e.j41(2,"div",5)(3,"div",6),e.nrm(4,"abp-extensible-table",7),e.k0s()(),e.j41(5,"abp-modal",8),e.mxI("visibleChange",function(u){return e.eBV(o),e.DH7(n.isModalVisible,u)||(n.isModalVisible=u),e.Njj(u)}),e.DNE(6,ve,3,3,"ng-template",null,0,e.C5r)(8,Te,2,2,"ng-template",null,1,e.C5r)(10,Ce,6,7,"ng-template",null,2,e.C5r),e.k0s(),e.DNE(12,Ie,2,0,"abp-permission-management",9),e.k0s()}2&i&&(e.Y8G("title",e.bMT(1,8,"AbpIdentity::Roles"))("toolbar",n.data.items),e.R7$(4),e.Y8G("data",n.data.items)("recordsTotal",n.data.totalCount)("list",n.list),e.R7$(),e.R50("visible",n.isModalVisible),e.Y8G("busy",n.modalBusy),e.R7$(7),e.Y8G("abpReplaceableTemplate",e.sMw(23,V,e.ziG(16,ye,e.lJ4(10,fe),e.eq3(11,$,n.providerKey),e.eq3(13,X,n.visiblePermissions),e.lJ4(15,ge)),e.eq3(21,Y,n.onVisiblePermissionChange),n.permissionManagementKey)))},dependencies:[p.qT,p.cb,p.j4,l.S02,l.M$$,l.y98,y.a5,m.Qp,m.zf,m.b6,r.X3,r.XY,F,P.H1,l.aM3],encapsulation:2})}}return s})(),f=(()=>{class s{constructor(){this.list=(0,e.WQX)(l.aGM),this.confirmationService=(0,e.WQX)(m.td),this.service=(0,e.WQX)(q),this.toasterService=(0,e.WQX)(m.W9),this.fb=(0,e.WQX)(p.ze),this.injector=(0,e.WQX)(e.zZn),this.data={items:[],totalCount:0},this.visiblePermissions=!1,this.modalBusy=!1,this.permissionManagementKey="PermissionManagement.PermissionManagementComponent",this.inputKey=m.c.FormCheckboxComponent,this.trackByFn=(t,i)=>Object.keys(i)[0]||t,this.onVisiblePermissionChange=t=>{this.visiblePermissions=t}}get roleGroups(){return this.form.get("roleNames")?.controls||[]}ngOnInit(){this.hookToQuery()}buildForm(){const t=new r.a9(this.injector,this.selected);this.form=(0,r.uB)(t),this.service.getAssignableRoles().subscribe(({items:i})=>{this.roles=i,this.roles&&this.form.addControl("roleNames",this.fb.array(this.roles.map(n=>this.fb.group({[n.name]:[this.selected?.id?!!this.selectedUserRoles?.find(o=>o.id===n.id):n.isDefault]}))))})}openModal(){this.buildForm(),this.isModalVisible=!0}add(){this.selected={},this.selectedUserRoles=[],this.openModal()}edit(t){this.service.get(t).pipe((0,g.M)(i=>this.selected=i),(0,x.n)(()=>this.service.getRoles(t))).subscribe(i=>{this.selectedUserRoles=i.items||[],this.openModal()})}save(){if(!this.form.valid||this.modalBusy)return;this.modalBusy=!0;const{roleNames:t=[]}=this.form.value,i=t.filter(o=>!!o[Object.keys(o)[0]]).map(o=>Object.keys(o)[0])||[],{id:n}=this.selected||{};(n?this.service.update(n,{...this.selected,...this.form.value,roleNames:i}):this.service.create({...this.form.value,roleNames:i})).pipe((0,R.j)(()=>this.modalBusy=!1)).subscribe(()=>{this.isModalVisible=!1,this.toasterService.success("AbpUi::SavedSuccessfully"),this.list.get()})}delete(t,i){this.confirmationService.warn("AbpIdentity::UserDeletionConfirmationMessage","AbpIdentity::AreYouSure",{messageLocalizationParams:[i]}).subscribe(n=>{n===m.m.Status.confirm&&this.service.delete(t).subscribe(()=>{this.toasterService.success("AbpUi::DeletedSuccessfully"),this.list.get()})})}sort(t){const{prop:i,dir:n}=t.sorts[0];this.list.sortKey=i,this.list.sortOrder=n}hookToQuery(){this.list.hookToQuery(t=>this.service.getList(t)).subscribe(t=>this.data=t)}openPermissionsModal(t,i){this.providerKey=t,this.entityDisplayName=i,setTimeout(()=>{this.visiblePermissions=!0},0)}static{this.\u0275fac=function(i){return new(i||s)}}static{this.\u0275cmp=e.VBU({type:s,selectors:[["abp-users"]],viewQuery:function(i,n){if(1&i&&e.GBs(Ne,5),2&i){let o;e.mGM(o=e.lsd())&&(n.modalContent=o.first)}},standalone:!1,features:[e.Jv_([l.aGM,{provide:r.JF,useValue:"Identity.UsersComponent"}])],decls:17,vars:29,consts:[["abpHeader",""],["abpBody",""],["abpFooter",""],["nav","ngbNav"],["abpPermissionManagement","abpPermissionManagement"],[3,"title","toolbar"],["id","identity-roles-wrapper",1,"card"],[1,"card-body"],["id","data-tables-table-filter",1,"data-tables-filter","mb-3"],[1,"input-group"],["type","search",1,"form-control",3,"ngModelChange","placeholder","ngModel"],[3,"data","recordsTotal","list"],[3,"visibleChange","visible","busy"],[3,"entityDisplayName","abpInit",4,"abpReplaceableTemplate"],[3,"formGroup"],[1,"text-center"],[3,"ngSubmit","formGroup"],["ngbNav","",1,"nav-tabs"],["ngbNavItem",""],["ngbNavLink",""],["ngbNavContent",""],[1,"mt-2","fade-in-top",3,"ngbNavOutlet"],[3,"selectedRecord"],[1,"form-check","mb-2"],[3,"checkboxId","formControl","label",4,"abpReplaceableTemplate"],[3,"checkboxId","formControl","label"],["aria-hidden","true",1,"fa","fa-pulse","fa-spinner"],["type","button","abpClose","",1,"btn","btn-outline-primary"],["iconClass","fa fa-check",3,"click","disabled"],[3,"abpInit","entityDisplayName"]],template:function(i,n){if(1&i){const o=e.RV6();e.j41(0,"abp-page",5),e.nI1(1,"abpLocalization"),e.j41(2,"div",6)(3,"div",7)(4,"div",8)(5,"div",9)(6,"input",10),e.nI1(7,"abpLocalization"),e.mxI("ngModelChange",function(u){return e.eBV(o),e.DH7(n.list.filter,u)||(n.list.filter=u),e.Njj(u)}),e.k0s()()(),e.nrm(8,"abp-extensible-table",11),e.k0s()(),e.j41(9,"abp-modal",12),e.mxI("visibleChange",function(u){return e.eBV(o),e.DH7(n.isModalVisible,u)||(n.isModalVisible=u),e.Njj(u)}),e.DNE(10,Ae,3,3,"ng-template",null,0,e.C5r)(12,Fe,2,1,"ng-template",null,1,e.C5r)(14,Ue,6,7,"ng-template",null,2,e.C5r),e.k0s(),e.DNE(16,je,2,1,"abp-permission-management",13),e.k0s()}2&i&&(e.Y8G("title",e.bMT(1,10,"AbpIdentity::Users"))("toolbar",n.data.items),e.R7$(6),e.Y8G("placeholder",e.bMT(7,12,"AbpUi::PagerSearch")),e.R50("ngModel",n.list.filter),e.R7$(2),e.Y8G("data",n.data.items)("recordsTotal",n.data.totalCount)("list",n.list),e.R7$(),e.R50("visible",n.isModalVisible),e.Y8G("busy",n.modalBusy),e.R7$(7),e.Y8G("abpReplaceableTemplate",e.sMw(25,V,e.sMw(19,Me,e.lJ4(14,Re),e.eq3(15,$,n.providerKey),e.eq3(17,X,n.visiblePermissions)),e.eq3(23,Y,n.onVisiblePermissionChange),n.permissionManagementKey)))},dependencies:[p.qT,p.me,p.BC,p.cb,p.vS,p.l_,p.j4,l.S02,l.M$$,l.y98,_.Um,_.X9,_.sy,_.Gx,_.Ri,_.WA,_.m_,y.a5,y.lt,m.Qp,m.zf,m.b6,m.TB,r.X3,r.XY,F,P.H1,l.aM3],encapsulation:2})}}return s})();const Be=r.SY.createMany([{text:"AbpIdentity::Edit",action:s=>{s.getInjected(b).edit(s.record.id||"")},permission:"AbpIdentity.Roles.Update"},{text:"AbpIdentity::Permissions",action:s=>{s.getInjected(b).openPermissionsModal(s.record.name||"")},permission:"AbpIdentity.Roles.ManagePermissions"},{text:"AbpIdentity::Delete",action:s=>{s.getInjected(b).delete(s.record.id||"",s.record.name||"")},permission:"AbpIdentity.Roles.Delete",visible:s=>!s?.record.isStatic}]),Le=r.Fh.createMany([{type:"string",name:"name",displayName:"AbpIdentity::RoleName",sortable:!0,valueResolver:s=>{const a=s.getInjected(l.PiF),t=a.instant.bind(a),{isDefault:i,isPublic:n,name:o}=s.record;return(0,S.of)((0,l.wx1)(o)+(i?`<span class="badge rounded-pill bg-success ms-1">${t("AbpIdentity::DisplayName:IsDefault")}</span>`:"")+(n?`<span class="badge rounded-pill bg-info ms-1">${t("AbpIdentity::DisplayName:IsPublic")}</span>`:""))}}]),w=r.UW.createMany([{type:"string",name:"name",displayName:"AbpIdentity::RoleName",id:"role-name",disabled:s=>s.record&&s.record.isStatic,validators:()=>[p.k0.required]},{type:"boolean",name:"isDefault",displayName:"AbpIdentity::DisplayName:IsDefault",id:"role-is-default",defaultValue:!1},{type:"boolean",name:"isPublic",displayName:"AbpIdentity::DisplayName:IsPublic",id:"role-is-public",defaultValue:!1}]),$e=w,Xe=r.KR.createMany([{text:"AbpIdentity::NewRole",action:s=>{s.getInjected(b).add()},permission:"AbpIdentity.Roles.Create",icon:"fa fa-plus"}]),Ye=r.SY.createMany([{text:"AbpIdentity::Edit",action:s=>{s.getInjected(f).edit(s.record.id||"")},permission:"AbpIdentity.Users.Update"},{text:"AbpIdentity::Permissions",action:s=>{s.getInjected(f).openPermissionsModal(s.record.id||"",s.record.userName)},permission:"AbpIdentity.Users.ManagePermissions"},{text:"AbpIdentity::Delete",action:s=>{s.getInjected(f).delete(s.record.id||"",s.record.name||s.record.userName||"")},visible:s=>{const a=s?.record.userName,i=s?.getInjected(l.d14)?.getOne("currentUser");return a!==i.userName},permission:"AbpIdentity.Users.Delete"}]),Ve=r.Fh.createMany([{type:"string",name:"userName",displayName:"AbpIdentity::UserName",sortable:!0,columnWidth:250,valueResolver:s=>{const a=s.getInjected(l.PiF),i=`<i title="${a.instant.bind(a)("AbpIdentity::ThisUserIsNotActiveMessage")}" class="fas fa-ban text-danger me-1" aria-hidden="true"></i>`;return(0,S.of)(`\n        ${s.record.isActive?"":i}\n        <span class="${s.record.isActive?"":"text-muted"}">${(0,l.wx1)(s.record.userName)}</span>`)}},{type:"string",name:"email",displayName:"AbpIdentity::EmailAddress",sortable:!0,columnWidth:250},{type:"string",name:"phoneNumber",displayName:"AbpIdentity::PhoneNumber",sortable:!0,columnWidth:250}]),Q=r.UW.createMany([{type:"string",name:"userName",displayName:"AbpIdentity::UserName",id:"user-name",validators:()=>[p.k0.required,p.k0.maxLength(256)]},{type:"passwordinputgroup",name:"password",displayName:"AbpIdentity::Password",id:"password",autocomplete:"new-password",validators:s=>[p.k0.required,...(0,m.kl)({get:s.getInjected})]},{type:"string",name:"name",displayName:"AbpIdentity::DisplayName:Name",id:"name",validators:()=>[p.k0.maxLength(64)]},{type:"string",name:"surname",displayName:"AbpIdentity::DisplayName:Surname",id:"surname",validators:()=>[p.k0.maxLength(64)]},{type:"email",name:"email",displayName:"AbpIdentity::EmailAddress",id:"email",validators:()=>[p.k0.required,p.k0.maxLength(256),p.k0.email]},{type:"string",name:"phoneNumber",displayName:"AbpIdentity::PhoneNumber",id:"phone-number",validators:()=>[p.k0.maxLength(16)]},{type:"boolean",name:"isActive",displayName:"AbpIdentity::DisplayName:IsActive",id:"active-checkbox",defaultValue:!0},{type:"boolean",name:"lockoutEnabled",displayName:"AbpIdentity::DisplayName:LockoutEnabled",id:"lockout-checkbox",defaultValue:!0}]),we=Q.map(s=>"password"===s.name?{...s,validators:a=>[...(0,m.kl)({get:a.getInjected})]}:"isActive"===s.name?{...s,visible:a=>a.getInjected(l.d14).getDeep("currentUser.id")!==a.record.id}:s),Qe=r.KR.createMany([{text:"AbpIdentity::NewUser",action:s=>{s.getInjected(f).add()},permission:"AbpIdentity.Users.Create",icon:"fa fa-plus"}]),A={"Identity.RolesComponent":Be,"Identity.UsersComponent":Ye},G={"Identity.RolesComponent":Xe,"Identity.UsersComponent":Qe},E={"Identity.RolesComponent":Le,"Identity.UsersComponent":Ve},k={"Identity.RolesComponent":w,"Identity.UsersComponent":Q},D={"Identity.RolesComponent":$e,"Identity.UsersComponent":we},v=new e.nKC("IDENTITY_ENTITY_ACTION_CONTRIBUTORS"),T=new e.nKC("IDENTITY_TOOLBAR_ACTION_CONTRIBUTORS"),C=new e.nKC("IDENTITY_ENTITY_PROP_CONTRIBUTORS"),I=new e.nKC("IDENTITY_CREATE_FORM_PROP_CONTRIBUTORS"),N=new e.nKC("IDENTITY_EDIT_FORM_PROP_CONTRIBUTORS");let W=(()=>{class s{constructor(){this.injector=(0,e.WQX)(e.zZn),this.extensions=(0,e.WQX)(r.yJ)}canActivate(){const t={optional:!0},i=(0,e.WQX)(v,t)||{},n=(0,e.WQX)(T,t)||{},o=(0,e.WQX)(C,t)||{},c=(0,e.WQX)(I,t)||{},u=(0,e.WQX)(N,t)||{};return(0,r.Nl)(this.injector,"Identity").pipe((0,M.T)(h=>({"Identity.RolesComponent":h.Role,"Identity.UsersComponent":h.User})),(0,r.p2)(this.injector,"AbpIdentity"),(0,g.M)(h=>{(0,r.xB)(this.extensions.entityActions,A,i),(0,r.xB)(this.extensions.toolbarActions,G,n),(0,r.ah)(this.extensions.entityProps,E,h.prop,o),(0,r.ah)(this.extensions.createFormProps,k,h.createForm,c),(0,r.ah)(this.extensions.editFormProps,D,h.editForm,u)}),(0,M.T)(()=>!0))}static{this.\u0275fac=function(i){return new(i||s)}}static{this.\u0275prov=e.jDH({token:s,factory:s.\u0275fac})}}return s})();const z=()=>{const s=(0,e.WQX)(r.yJ),a={optional:!0},t=(0,e.WQX)(v,a)||{},i=(0,e.WQX)(T,a)||{},n=(0,e.WQX)(C,a)||{},o=(0,e.WQX)(I,a)||{},c=(0,e.WQX)(N,a)||{},u=(0,e.WQX)(e.zZn);return(0,r.Nl)(u,"Identity").pipe((0,M.T)(h=>({"Identity.RolesComponent":h.Role,"Identity.UsersComponent":h.User})),(0,r.p2)(u,"AbpIdentity"),(0,g.M)(h=>{(0,r.xB)(s.entityActions,A,t),(0,r.xB)(s.toolbarActions,G,i),(0,r.ah)(s.entityProps,E,h.prop,n),(0,r.ah)(s.createFormProps,k,h.createForm,o),(0,r.ah)(s.editFormProps,D,h.editForm,c)}))},We=[{path:"",redirectTo:"roles",pathMatch:"full"},{path:"",component:l.Cs_,canActivate:[l.W_R,l.RH_],resolve:[z],children:[{path:"roles",component:l.yFO,data:{requiredPolicy:"AbpIdentity.Roles",replaceableComponent:{key:"Identity.RolesComponent",defaultComponent:b}},title:"AbpIdentity::Roles"},{path:"users",component:l.yFO,data:{requiredPolicy:"AbpIdentity.Users",replaceableComponent:{key:"Identity.UsersComponent",defaultComponent:f}},title:"AbpIdentity::Users"}]}];let ze=(()=>{class s{static{this.\u0275fac=function(i){return new(i||s)}}static{this.\u0275mod=e.$C({type:s})}static{this.\u0275inj=e.G2t({imports:[L.iI.forChild(We),L.iI]})}}return s})(),Ke=(()=>{class s{static forChild(t={}){return{ngModule:s,providers:[{provide:v,useValue:t.entityActionContributors},{provide:T,useValue:t.toolbarActionContributors},{provide:C,useValue:t.entityPropContributors},{provide:I,useValue:t.createFormPropContributors},{provide:N,useValue:t.editFormPropContributors},W]}}static forLazy(t={}){return new l.l37(s.forChild(t))}static{this.\u0275fac=function(i){return new(i||s)}}static{this.\u0275mod=e.$C({type:s})}static{this.\u0275inj=e.G2t({imports:[l.Ui,ze,_.Pv,m.Ts,r.U9,_.zH,be,y.fs,P.wq]})}}return s})()}}]);